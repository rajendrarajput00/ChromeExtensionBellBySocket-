(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{13:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=r.a.forwardRef((function(e,t){var n=e.type,a=e.placeholder,l=e.value,o=e.onChange,i=e.name,c=e.className;return r.a.createElement("input",{type:n,placeholder:a,value:l,onChange:function(e){return o(e.target.value)},name:i,className:c,ref:t})})),o=function(e){var t=e.name,n=e.value,a=e.onChange,l=e.options,o=e.className;return r.a.createElement("select",{name:t,value:n,onChange:function(e){return a(e.target.value)},className:o},l.map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)})))},i=function(e){var t=e.value,n=e.onClick,a=e.name,l=e.className;return r.a.createElement("button",{onClick:n,name:a,className:l},t)},c=function(e,t){console.log(e,t)},u=Object(a.forwardRef)((function(e,t){var n=e.inputPlaceHolder,a=e.inputValue,i=e.inputOnchange,c=e.selectValue,u=e.selectOnchange;return r.a.createElement("div",{className:"inputSelect",ref:t},r.a.createElement(l,{type:"number",placeholder:n,name:"minsecTime",value:a,onChange:i}),r.a.createElement(o,{name:"minsec",options:["s","m"],value:c,onChange:u}))}));function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,l=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var f=function(){var e=s(Object(a.useState)(""),2),t=e[0],n=e[1],m=s(Object(a.useState)("Today"),2),f=m[0],g=m[1],d=s(Object(a.useState)(""),2),v=d[0],p=d[1],y=s(Object(a.useState)(""),2),h=y[0],b=y[1],w=s(Object(a.useState)("s"),2),N=w[0],O=w[1],S=s(Object(a.useState)(!1),2),E=S[0],T=S[1],A=r.a.createRef(),k=r.a.createRef(),j={taskFieldRef:A,timeFieldRef:k};return r.a.createElement("div",{className:"scheduleAlarmContainer"},r.a.createElement(l,{type:"text",placeholder:"Task",name:"task",value:t,onChange:n,ref:A,className:"taskInputField"}),r.a.createElement(o,{name:"day",options:["Today","Tomorrow","Recurring"],value:f,onChange:g,className:"daySelect"}),"Recurring"===f?r.a.createElement(u,{inputValue:h,inputOnchange:b,inputPlaceHolder:"Time",selectValue:N,selectOnchange:O,ref:k}):r.a.createElement(l,{type:"time",name:"time",value:v,onChange:p,className:"inputTime",ref:k}),E?r.a.createElement("div",{className:"warningMessage"},"Time should be greater than 5 Seconds"):r.a.createElement("div",{className:"warningMessage"}),r.a.createElement(i,{name:"setAlarmButton",value:"Set Alarm",className:"setAlarmButton",onClick:function(){if(console.log("inputValue, selectValue",h,N),"Today"===f||"Tomorrow"===f){if(!t||!v){var e={taskFieldRef:t,timeFieldRef:v};return Object.keys(e).map((function(t){if(!e[t]){var n=j[t].current.className.split(" ");n.indexOf("warning-vibration-animation")>=0?(n[n.indexOf("warning-vibration-animation")]="warning-vibration-animation-toggle",c("classArray",n),j[t].current.className="".concat(n.join(" "))):n.indexOf("warning-vibration-animation-toggle")>=0?(n[n.indexOf("warning-vibration-animation-toggle")]="warning-vibration-animation",c("classArray",n),j[t].current.className="".concat(n.join(" "))):j[t].current.className="".concat(n.join(" ")," warning-vibration-animation")}})),void setTimeout((function(){A.current.className="taskInputField",k.current.className="inputTime",console.log("Removed")}),1e3)}if("Today"===f){var n=String(new Date);if(n=n.slice(0,n.indexOf((new Date).getFullYear())+5)+v+":00 "+n.slice(n.indexOf("GMT")),console.log("stringNewDate",n),new Date(n).getTime()<(new Date).getTime())return void console.log("Dfdsfdsfdsfdsf")}}else if("Recurring"===f){if(console.log("timeFieldRef.current",k.current),!t)return A.current.className="taskInputField warning-vibration-animation",void setTimeout((function(){A.current.className="taskInputField",console.log("Removed")}),1e3);if(!h)return k.current.className="inputSelect warning-vibration-animation",void setTimeout((function(){k.current.className="inputSelect",console.log("Removed")}),1e3);if(h<5&&"s"===N)return T(!0),void setTimeout((function(){T(!1)}),2e3)}switch(f){case"Today":var a=String(new Date);a=a.slice(0,a.indexOf((new Date).getFullYear())+5)+v+":00 "+a.slice(a.indexOf("GMT")),console.log("newDate",a),chrome.alarms.create(t,{when:new Date(a).getTime()});break;case"Tomorrow":var r=String(new Date(Date.now()+864e5));r=r.slice(0,r.indexOf((new Date).getFullYear())+5)+v+":00 "+r.slice(r.indexOf("GMT")),console.log("nextDayDate",r),chrome.alarms.create(t,{when:new Date(r).getTime()});break;case"Recurring":"m"===N?chrome.alarms.create(t,{periodInMinutes:Number(h)}):chrome.alarms.create(t,{periodInMinutes:h/60})}var l;(l=document.getElementById("snackbar")).className="show",setTimeout((function(){l.className=l.className.replace("show","")}),3e3)}}))},g=function(e){var t=e.links,n=e.className,a=e.onClick,l=e.active;return r.a.createElement("div",{className:n},function(e,t,n){return e.map((function(e,a){return r.a.createElement("span",{key:a,onClick:function(a){a.preventDefault(),t("|"===e?n:e)},className:n===e?"activeBottomNav":""},e)}))}(t,a,l))};function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,l=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var p=function(){var e=d(Object(a.useState)([]),2),t=e[0],n=e[1];Object(a.useEffect)((function(){return console.log("IN COMPONENT DID MOUNT")})),chrome.alarms.getAll((function(e){console.log("lalarms",e),JSON.stringify(e)!=JSON.stringify(t)&&n(e)}));return r.a.createElement("div",{className:"tasks-container"},r.a.createElement("ul",null,t.length?t.map((function(e,a){var l=e.scheduledTime,o=String(new Date(l));return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{key:a},e.name," at ",o.slice(o.indexOf((new Date).getFullYear())+5,o.indexOf("GMT")-1),r.a.createElement("img",{src:"../delete.svg",onClick:function(a){var r;a.preventDefault(),r=e.name,t.length&&(n(t.filter((function(e){return e.name!==r}))),chrome.alarms.clear(r))},className:"cross-button"})))})):""))},y=n(28);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,l=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.default=function(){var e=h(Object(a.useState)("Set Alarm"),2),t=e[0],n=e[1];return console.log("showAlarmsList",t),Object(a.useEffect)((function(){console.log("ggggggggggggggggggggggggggggggggg");var e=Object(y.a)("http://127.0.0.1:4000");console.log("BBBBBBBBBBBBBBB",e),e.on("FromAPI",(function(e){console.log("Dataatatatat",e),console.log("time",e.time),chrome.alarms.create("Reminder pl start your tracker",{periodInMinutes:e.time/60})}))}),[]),r.a.createElement("div",{className:"container"},"Set Alarm"===t?r.a.createElement(f,null):r.a.createElement(p,null),r.a.createElement(g,{links:["Set Alarm","|","Show Tasks"],className:"bottomNavigation",onClick:n,active:t}),r.a.createElement("div",{id:"snackbar"},"Alarm set"))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9JbnB1dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9TZWxlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQnV0dG9uLmpzIiwid2VicGFjazovLy8uL3NyYy9VdGlscy9Mb2dnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvSW5wdXRTZWxlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvU2NoZWR1bGVBbGFybUNvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Cb3R0b21OYXZpZ2F0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1Rhc2tzQ29udGFpbmVyLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0FwcC5qcyJdLCJuYW1lcyI6WyJJbnB1dCIsIlJlYWN0IiwiZm9yd2FyZFJlZiIsInJlZiIsInR5cGUiLCJwbGFjZWhvbGRlciIsInZhbHVlIiwib25DaGFuZ2UiLCJuYW1lIiwiY2xhc3NOYW1lIiwiZSIsInRhcmdldCIsIlNlbGVjdCIsIm9wdGlvbnMiLCJtYXAiLCJvcHRpb24iLCJpbmRleCIsImtleSIsIkJ1dHRvbiIsIm9uQ2xpY2siLCJsb2dnZXIiLCJ0ZXh0IiwidmFsdWVzIiwiY29uc29sZSIsImxvZyIsIklucHV0U2VsZWN0IiwiaW5wdXRQbGFjZUhvbGRlciIsImlucHV0VmFsdWUiLCJpbnB1dE9uY2hhbmdlIiwic2VsZWN0VmFsdWUiLCJzZWxlY3RPbmNoYW5nZSIsIlNjaGVkdWxlQWxhcm1Db250YWluZXIiLCJ1c2VTdGF0ZSIsInRhc2siLCJzZXRUYXNrIiwiZGF5Iiwic2V0RGF5IiwidGltZSIsInNldFRpbWUiLCJzaG93V2FybmluZyIsInNldFdhcm5pbmciLCJ0YXNrRmllbGRSZWYiLCJjcmVhdGVSZWYiLCJ0aW1lRmllbGRSZWYiLCJyZWZzIiwic3RhdGUiLCJPYmplY3QiLCJrZXlzIiwiY2xhc3NBcnJheSIsImN1cnJlbnQiLCJzcGxpdCIsImluZGV4T2YiLCJMb2dnZXIiLCJqb2luIiwic2V0VGltZW91dCIsInN0cmluZ05ld0RhdGUiLCJTdHJpbmciLCJEYXRlIiwic2xpY2UiLCJnZXRGdWxsWWVhciIsImdldFRpbWUiLCJjaHJvbWUiLCJhbGFybXMiLCJjcmVhdGUiLCJ3aGVuIiwic3RyaW5nTmV4dERheURhdGUiLCJub3ciLCJwZXJpb2RJbk1pbnV0ZXMiLCJOdW1iZXIiLCJ4IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInJlcGxhY2UiLCJCb3R0b21OYXZpZ2F0aW9uIiwibGlua3MiLCJhY3RpdmUiLCJsaW5rIiwicHJldmVudERlZmF1bHQiLCJhZGRQaXBlQmV0d2VlbkxpbmtzIiwiVGFza3NDb250YWluZXIiLCJzZXRBbGFybXNMaXN0IiwidXNlRWZmZWN0IiwiZ2V0QWxsIiwiYWxhcm1zTGlzdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJsZW5ndGgiLCJhbGFybSIsInNjaGVkdWxlZFRpbWVJbk1pbGxTIiwic2NoZWR1bGVkVGltZSIsImRhdGUiLCJzcmMiLCJmaWx0ZXIiLCJjbGVhciIsIkFwcCIsInNob3dBbGFybXNMaXN0Iiwic2V0QWxhcm1WaWV3Iiwic29ja2V0Iiwic29ja2V0SU9DbGllbnQiLCJvbiIsImRhdGEiLCJpZCJdLCJtYXBwaW5ncyI6Im9IQWNlQSxFQVpEQyxJQUFNQyxZQUFXLFdBQTBEQyxHQUExRCxJQUFHQyxFQUFILEVBQUdBLEtBQU1DLEVBQVQsRUFBU0EsWUFBYUMsRUFBdEIsRUFBc0JBLE1BQU9DLEVBQTdCLEVBQTZCQSxTQUFVQyxFQUF2QyxFQUF1Q0EsS0FBTUMsRUFBN0MsRUFBNkNBLFVBQTdDLE9BQzNCLDJCQUNJTCxLQUFNQSxFQUNOQyxZQUFhQSxFQUNiQyxNQUFPQSxFQUNQQyxTQUFVLFNBQUNHLEdBQUQsT0FBT0gsRUFBU0csRUFBRUMsT0FBT0wsUUFDbkNFLEtBQU1BLEVBQ05DLFVBQVdBLEVBQ1hO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RytCLEVBQUt2QyxRQUFRLE9BQVMsR0FDOUYseUJBQUt3QyxJQUFJLGdCQUFnQnhFLFFBQVMsU0FBQ1QsR0FyQnZELElBQUNGLEVBcUI2REUsRUFBRW1FLGlCQXJCL0RyRSxFQXFCNkYrRSxFQUFNL0UsS0FwQmhIc0QsRUFBT3dCLFNBQ1BOLEVBQWNsQixFQUFPOEIsUUFBTyxTQUFBTCxHQUFLLE9BQUlBLEVBQU0vRSxPQUFTQSxNQUNwRHFELE9BQU9DLE9BQU8rQixNQUFNckYsS0FrQm9HQyxVQUFVLHNCQU9sSCxNLHc5QkNGYnFGLFVBckNILFdBQ1IsUUFBdUM5RCxtQkFBUyxhQUFoRCxHQUFPK0QsRUFBUCxLQUF1QkMsRUFBdkIsS0FnQkEsT0FmQXpFLFFBQVFDLElBQUksaUJBQWtCdUUsR0FDOUJkLHFCQUFVLFdBQ04xRCxRQUFRQyxJQUFJLHFDQUNaLElBQU15RSxFQUFTQyxZQVBOLHlCQVFUM0UsUUFBUUMsSUFBSSxrQkFBa0J5RSxHQUM5QkEsRUFBT0UsR0FBRyxXQUFXLFNBQUFDLEdBQ25CN0UsUUFBUUMsSUFBSSxlQUFlNEUsR0FDM0I3RSxRQUFRQyxJQUFJLE9BQU80RSxFQUFLL0QsTUFFeEJ3QixPQUFPQyxPQUFPQyxPQUFPLGlDQUFrQyxDQUNyREksZ0JBQWlCaUMsRUFBSy9ELEtBQUssVUFJOUIsSUFFRCx5QkFBSzVCLFVBQVUsYUFFWSxjQUFuQnNGLEVBRVEsa0JBQUMsRUFBRCxNQUVBLGtCQUFDLEVBQUQsTUFFWixrQkFBQyxFQUFELENBQ0lyQixNQUFPLENBQUMsWUFBYSxJQUFLLGNBQzFCakUsVUFBVSxtQkFDVlUsUUFBUzZFLEVBQ1RyQixPQUFRb0IsSUFFWix5QkFBS00sR0FBRyxZQUFSIiwiZmlsZSI6IjIuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuY29uc3QgSW5wdXQgPSBSZWFjdC5mb3J3YXJkUmVmKCh7IHR5cGUsIHBsYWNlaG9sZGVyLCB2YWx1ZSwgb25DaGFuZ2UsIG5hbWUsIGNsYXNzTmFtZSB9LCByZWYpID0+IChcbiAgICA8aW5wdXQgXG4gICAgICAgIHR5cGU9e3R5cGV9XG4gICAgICAgIHBsYWNlaG9sZGVyPXtwbGFjZWhvbGRlcn1cbiAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICBvbkNoYW5nZT17KGUpID0+IG9uQ2hhbmdlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgIHJlZj17cmVmfVxuICAgIC8+XG4pKTtcblxuZXhwb3J0IGRlZmF1bHQgSW5wdXQ7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuY29uc3QgU2VsZWN0ID0gKHsgbmFtZSwgdmFsdWUsIG9uQ2hhbmdlLCBvcHRpb25zLCBjbGFzc05hbWV9KSA9PiAoXG4gICAgPHNlbGVjdCBuYW1lPXtuYW1lfSB2YWx1ZT17dmFsdWV9IG9uQ2hhbmdlPXsoZSkgPT4gb25DaGFuZ2UoZS50YXJnZXQudmFsdWUpfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIG9wdGlvbnMubWFwKChvcHRpb24sIGluZGV4KT0+IDxvcHRpb24gdmFsdWU9e29wdGlvbn0ga2V5PXtpbmRleH0+e29wdGlvbn08L29wdGlvbj4pXG4gICAgICAgIH1cbiAgICA8L3NlbGVjdD5cbik7XG5cbmV4cG9ydCBkZWZhdWx0IFNlbGVjdDsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5jb25zdCBCdXR0b24gPSAoeyB2YWx1ZSwgb25DbGljaywgbmFtZSwgY2xhc3NOYW1lIH0pID0+IChcbiAgICA8YnV0dG9uIFxuICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgICBuYW1lPXtuYW1lfVxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICA+e3ZhbHVlfTwvYnV0dG9uPlxuKTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uOyIsImNvbnN0IGxvZ2dlciA9ICh0ZXh0LCB2YWx1ZXMpID0+IHtcbiAgICBjb25zb2xlLmxvZyh0ZXh0LCB2YWx1ZXMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBsb2dnZXI7IiwiaW1wb3J0IFJlYWN0LCB7Zm9yd2FyZFJlZn0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IElucHV0IGZyb20gJy4vSW5wdXQnO1xuaW1wb3J0IFNlbGVjdCBmcm9tICcuL1NlbGVjdCc7XG5cbmNvbnN0IElucHV0U2VsZWN0ID0gZm9yd2FyZFJlZigoe2lucHV0UGxhY2VIb2xkZXIsIGlucHV0VmFsdWUsIGlucHV0T25jaGFuZ2UsIHNlbGVjdFZhbHVlLCBzZWxlY3RPbmNoYW5nZSB9LCByZWYpID0+IChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImlucHV0U2VsZWN0XCIgcmVmPXtyZWZ9PlxuICAgICAgICA8SW5wdXQgXG4gICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtpbnB1dFBsYWNlSG9sZGVyfVxuICAgICAgICAgICAgbmFtZT1cIm1pbnNlY1RpbWVcIlxuICAgICAgICAgICAgdmFsdWU9e2lucHV0VmFsdWV9XG4gICAgICAgICAgICBvbkNoYW5nZT17aW5wdXRPbmNoYW5nZX1cbiAgICAgICAgLz5cbiAgICAgICAgPFNlbGVjdCBcbiAgICAgICAgICAgIG5hbWU9XCJtaW5zZWNcIlxuICAgICAgICAgICAgb3B0aW9ucz17W1wic1wiLCBcIm1cIl19XG4gICAgICAgICAgICB2YWx1ZT17c2VsZWN0VmFsdWV9XG4gICAgICAgICAgICBvbkNoYW5nZT17c2VsZWN0T25jaGFuZ2V9XG4gICAgICAgIC8+XG4gICAgPC9kaXY+XG4pKTtcblxuZXhwb3J0IGRlZmF1bHQgSW5wdXRTZWxlY3Q7IiwiaW1wb3J0IFJlYWN0LCB7dXNlU3RhdGV9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBJbnB1dCBmcm9tICcuL0lucHV0JztcbmltcG9ydCBTZWxlY3QgZnJvbSAnLi9TZWxlY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuL0J1dHRvbic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy4uL1V0aWxzL0xvZ2dlcic7XG5pbXBvcnQgSW5wdXRTZWxlY3QgZnJvbSAnLi9JbnB1dFNlbGVjdCc7XG5cbmNvbnN0IFNjaGVkdWxlQWxhcm1Db250YWluZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgW3Rhc2ssIHNldFRhc2tdID0gdXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFtkYXksIHNldERheV0gPSB1c2VTdGF0ZSgnVG9kYXknKTtcbiAgICBjb25zdCBbdGltZSwgc2V0VGltZV0gPSB1c2VTdGF0ZSgnJyk7XG4gICAgY29uc3QgW2lucHV0VmFsdWUsIGlucHV0T25jaGFuZ2VdID0gdXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFtzZWxlY3RWYWx1ZSwgc2VsZWN0T25jaGFuZ2VdID0gdXNlU3RhdGUoJ3MnKTtcbiAgICBjb25zdCBbc2hvd1dhcm5pbmcsIHNldFdhcm5pbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gICAgY29uc3QgdGFza0ZpZWxkUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gICAgY29uc3QgdGltZUZpZWxkUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XG5cbiAgICBjb25zdCByZWZzID0ge1xuICAgICAgICB0YXNrRmllbGRSZWYsXG4gICAgICAgIHRpbWVGaWVsZFJlZlxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVTZXRBbGFybWJ1dHRvbiA9ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ2lucHV0VmFsdWUsIHNlbGVjdFZhbHVlJywgaW5wdXRWYWx1ZSwgc2VsZWN0VmFsdWUpO1xuICAgICAgICAvLyBjaHJvbWUuYWxhcm1zLmNsZWFyQWxsKCk7XG4gICAgICAgIGlmIChkYXkgPT09ICdUb2RheScgfHwgZGF5ID09PSAnVG9tb3Jyb3cnKSB7XG4gICAgICAgICAgICBpZiAoIXRhc2sgfHwgIXRpbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgJ3Rhc2tGaWVsZFJlZic6IHRhc2ssXG4gICAgICAgICAgICAgICAgICAgICd0aW1lRmllbGRSZWYnOiB0aW1lXG4gICAgICAgICAgICAgICAgfTtcbiAgICBcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhzdGF0ZSkubWFwKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhdGVba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGV4aXN0aW5nQ2xhc3NlcyA9IHJlZnNba2V5XS5jdXJyZW50LmNsYXNzTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsYXNzQXJyYXkgPSBleGlzdGluZ0NsYXNzZXMuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGFzc0FycmF5LmluZGV4T2YoJ3dhcm5pbmctdmlicmF0aW9uLWFuaW1hdGlvbicpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc0FycmF5W2NsYXNzQXJyYXkuaW5kZXhPZignd2FybmluZy12aWJyYXRpb24tYW5pbWF0aW9uJyldID0gJ3dhcm5pbmctdmlicmF0aW9uLWFuaW1hdGlvbi10b2dnbGUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsYXNzQXJyYXkuc3BsaWNlKGNsYXNzQXJyYXkuaW5kZXhPZignd2FybmluZy12aWJyYXRpb24tYW5pbWF0aW9uJyksIDAsICd3YXJuaW5nLXZpYnJhdGlvbi1hbmltYXRpb24tdG9nZ2xlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyKCdjbGFzc0FycmF5JywgY2xhc3NBcnJheSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmc1trZXldLmN1cnJlbnQuY2xhc3NOYW1lID0gYCR7Y2xhc3NBcnJheS5qb2luKCcgJyl9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xhc3NBcnJheS5pbmRleE9mKCd3YXJuaW5nLXZpYnJhdGlvbi1hbmltYXRpb24tdG9nZ2xlJykgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzQXJyYXlbY2xhc3NBcnJheS5pbmRleE9mKCd3YXJuaW5nLXZpYnJhdGlvbi1hbmltYXRpb24tdG9nZ2xlJyldID0gJ3dhcm5pbmctdmlicmF0aW9uLWFuaW1hdGlvbic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2xhc3NBcnJheS5zcGxpY2UoY2xhc3NBcnJheS5pbmRleE9mKCd3YXJuaW5nLXZpYnJhdGlvbi1hbmltYXRpb24tdG9nZ2xlJyksIDAsICd3YXJuaW5nLXZpYnJhdGlvbi1hbmltYXRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dnZXIoJ2NsYXNzQXJyYXknLCBjbGFzc0FycmF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZzW2tleV0uY3VycmVudC5jbGFzc05hbWUgPSBgJHtjbGFzc0FycmF5LmpvaW4oJyAnKX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZzW2tleV0uY3VycmVudC5jbGFzc05hbWUgPSBgJHtjbGFzc0FycmF5LmpvaW4oJyAnKX0gd2FybmluZy12aWJyYXRpb24tYW5pbWF0aW9uYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tGaWVsZFJlZi5jdXJyZW50LmNsYXNzTmFtZSA9ICd0YXNrSW5wdXRGaWVsZCc7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVGaWVsZFJlZi5jdXJyZW50LmNsYXNzTmFtZSA9ICdpbnB1dFRpbWUnO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlbW92ZWRcIik7XG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIGlmKGRheSA9PT0gJ1RvZGF5Jykge1xuICAgICAgICAgICAgICAgIGxldCBzdHJpbmdOZXdEYXRlID0gU3RyaW5nKG5ldyBEYXRlKCkpOyAvLyBpdCB3aWxsIHJldHVybiBkYXRlIGFzIGUuZyBUdWUgRmViIDI3IDIwMTkgMTE6MTA6NDUgR01UKzA1MzAgKEluZGlhIFN0YW5kYXJkIFRpbWUpXG5cbiAgICAgICAgICAgICAgICAvLyB0byBiZSBtYWRlIGEgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICBzdHJpbmdOZXdEYXRlID0gc3RyaW5nTmV3RGF0ZS5zbGljZSgwLCBzdHJpbmdOZXdEYXRlLmluZGV4T2YobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpKSArIDUpICsgdGltZSArICc6MDAnICsgJyAnICsgc3RyaW5nTmV3RGF0ZS5zbGljZShzdHJpbmdOZXdEYXRlLmluZGV4T2YoJ0dNVCcpKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc3RyaW5nTmV3RGF0ZScsIHN0cmluZ05ld0RhdGUpO1xuICAgICAgICAgICAgICAgIGlmKG5ldyBEYXRlKHN0cmluZ05ld0RhdGUpLmdldFRpbWUoKSA8IG5ldyBEYXRlKCkuZ2V0VGltZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRGZkc2Zkc2Zkc2Zkc2ZcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZGF5ID09PSAnUmVjdXJyaW5nJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0aW1lRmllbGRSZWYuY3VycmVudFwiLCB0aW1lRmllbGRSZWYuY3VycmVudCk7XG4gICAgICAgICAgICBpZiAoIXRhc2spIHtcbiAgICAgICAgICAgICAgICB0YXNrRmllbGRSZWYuY3VycmVudC5jbGFzc05hbWUgPSAndGFza0lucHV0RmllbGQgd2FybmluZy12aWJyYXRpb24tYW5pbWF0aW9uJztcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGFza0ZpZWxkUmVmLmN1cnJlbnQuY2xhc3NOYW1lID0gJ3Rhc2tJbnB1dEZpZWxkJztcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZW1vdmVkXCIpO1xuICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFpbnB1dFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGltZUZpZWxkUmVmLmN1cnJlbnQuY2xhc3NOYW1lID0gJ2lucHV0U2VsZWN0IHdhcm5pbmctdmlicmF0aW9uLWFuaW1hdGlvbic7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVGaWVsZFJlZi5jdXJyZW50LmNsYXNzTmFtZSA9ICdpbnB1dFNlbGVjdCc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVtb3ZlZFwiKTtcbiAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpbnB1dFZhbHVlIDwgNSAmJiBzZWxlY3RWYWx1ZSA9PT0gJ3MnKSB7XG4gICAgICAgICAgICAgICAgc2V0V2FybmluZyh0cnVlKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRXYXJuaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9LCAyMDAwKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChkYXkpIHtcblxuICAgICAgICAgICAgY2FzZSAnVG9kYXknOlxuXG4gICAgICAgICAgICAgICAgbGV0IHN0cmluZ05ld0RhdGUgPSBTdHJpbmcobmV3IERhdGUoKSk7IC8vIGl0IHdpbGwgcmV0dXJuIGRhdGUgYXMgZS5nIFR1ZSBGZWIgMjcgMjAxOSAxMToxMDo0NSBHTVQrMDUzMCAoSW5kaWEgU3RhbmRhcmQgVGltZSlcblxuICAgICAgICAgICAgICAgIC8vIHRvIGJlIG1hZGUgYSBmdW5jdGlvblxuICAgICAgICAgICAgICAgIHN0cmluZ05ld0RhdGUgPSBzdHJpbmdOZXdEYXRlLnNsaWNlKDAsIHN0cmluZ05ld0RhdGUuaW5kZXhPZihuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkpICsgNSkgKyB0aW1lICsgJzowMCcgKyAnICcgKyBzdHJpbmdOZXdEYXRlLnNsaWNlKHN0cmluZ05ld0RhdGUuaW5kZXhPZignR01UJykpO1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ25ld0RhdGUnLCBzdHJpbmdOZXdEYXRlKTtcblxuICAgICAgICAgICAgICAgIGNocm9tZS5hbGFybXMuY3JlYXRlKHRhc2ssIHtcbiAgICAgICAgICAgICAgICAgICAgd2hlbjogbmV3IERhdGUoc3RyaW5nTmV3RGF0ZSkuZ2V0VGltZSgpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnVG9tb3Jyb3cnOlxuICAgICAgICAgICAgICAgIGxldCBzdHJpbmdOZXh0RGF5RGF0ZSA9IFN0cmluZyhuZXcgRGF0ZShEYXRlLm5vdygpICsgODY0MDAwMDApKTsgLy8gaXQgd2lsbCByZXR1cm4gZGF0ZSBhcyBlLmcgVHVlIEZlYiAyNyAyMDE5IDExOjEwOjQ1IEdNVCswNTMwIChJbmRpYSBTdGFuZGFyZCBUaW1lKVxuXG4gICAgICAgICAgICAgICAgLy8gdG8gYmUgbWFkZSBhIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgc3RyaW5nTmV4dERheURhdGUgPSBzdHJpbmdOZXh0RGF5RGF0ZS5zbGljZSgwLCBzdHJpbmdOZXh0RGF5RGF0ZS5pbmRleE9mKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSkgKyA1KSArIHRpbWUgKyAnOjAwJyArICcgJyArIHN0cmluZ05leHREYXlEYXRlLnNsaWNlKHN0cmluZ05leHREYXlEYXRlLmluZGV4T2YoJ0dNVCcpKTtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCduZXh0RGF5RGF0ZScsIHN0cmluZ05leHREYXlEYXRlKTtcbiAgICAgICAgICAgICAgICBjaHJvbWUuYWxhcm1zLmNyZWF0ZSh0YXNrLCB7XG4gICAgICAgICAgICAgICAgICAgIHdoZW46IG5ldyBEYXRlKHN0cmluZ05leHREYXlEYXRlKS5nZXRUaW1lKClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdSZWN1cnJpbmcnOlxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdzZWxlY3RWYWx1ZScsIHNlbGVjdFZhbHVlLCBpbnB1dFZhbHVlLCB0eXBlb2YgaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdFZhbHVlID09PSAnbScpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hyb21lLmFsYXJtcy5jcmVhdGUodGFzaywge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVyaW9kSW5NaW51dGVzOiBOdW1iZXIoaW5wdXRWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaHJvbWUuYWxhcm1zLmNyZWF0ZSh0YXNrLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJpb2RJbk1pbnV0ZXM6IGlucHV0VmFsdWUvNjBcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgY2FzZSAnRXZlcnlkYXknOlxuICAgICAgICAgICAgICAgICAgICBjaHJvbWUuYWxhcm1zLmNyZWF0ZSh7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGJyZWFrOyAqL1xuXG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc2hvd1NuYWNrQmFyKCkge1xuICAgICAgICAgICAgdmFyIHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNuYWNrYmFyXCIpO1xuICAgICAgICAgICAgeC5jbGFzc05hbWUgPSBcInNob3dcIjtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHguY2xhc3NOYW1lID0geC5jbGFzc05hbWUucmVwbGFjZShcInNob3dcIiwgXCJcIik7XG4gICAgICAgICAgICB9LCAzMDAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNob3dTbmFja0JhcigpO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2NoZWR1bGVBbGFybUNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPElucHV0IFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlRhc2tcIlxuICAgICAgICAgICAgICAgIG5hbWU9XCJ0YXNrXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGFza31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17c2V0VGFza31cbiAgICAgICAgICAgICAgICByZWY9e3Rhc2tGaWVsZFJlZn1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0YXNrSW5wdXRGaWVsZFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPFNlbGVjdCBcbiAgICAgICAgICAgICAgICBuYW1lPVwiZGF5XCJcbiAgICAgICAgICAgICAgICBvcHRpb25zPXtbXCJUb2RheVwiLCBcIlRvbW9ycm93XCIsIFwiUmVjdXJyaW5nXCJdfVxuICAgICAgICAgICAgICAgIHZhbHVlPXtkYXl9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3NldERheX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkYXlTZWxlY3RcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkYXkgPT09ICdSZWN1cnJpbmcnXG4gICAgICAgICAgICAgICAgICAgID9cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFNlbGVjdCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFZhbHVlPXtpbnB1dFZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0T25jaGFuZ2U9e2lucHV0T25jaGFuZ2V9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0UGxhY2VIb2xkZXI9XCJUaW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RWYWx1ZT17c2VsZWN0VmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0T25jaGFuZ2U9e3NlbGVjdE9uY2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17dGltZUZpZWxkUmVmfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0aW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwidGltZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RpbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3NldFRpbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW5wdXRUaW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9e3RpbWVGaWVsZFJlZn1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2hvd1dhcm5pbmcgXG4gICAgICAgICAgICAgICAgICAgID8gIFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3YXJuaW5nTWVzc2FnZVwiPlRpbWUgc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiA1IFNlY29uZHM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgOiBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2FybmluZ01lc3NhZ2VcIj48L2Rpdj5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgbmFtZT1cInNldEFsYXJtQnV0dG9uXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT1cIlNldCBBbGFybVwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2V0QWxhcm1CdXR0b25cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNldEFsYXJtYnV0dG9ufVxuICAgICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBTY2hlZHVsZUFsYXJtQ29udGFpbmVyOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IGFkZFBpcGVCZXR3ZWVuTGlua3MgPSAobGlua3MsIG9uQ2xpY2ssIGFjdGl2ZSkgPT4ge1xuICAgIHJldHVybiBsaW5rcy5tYXAoKGxpbmssIGluZGV4KT0+IHtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHNwYW4gXG4gICAgICAgICAgICAgICAga2V5PXtpbmRleH0gXG4gICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrKGxpbmsgPT09ICd8JyA/IGFjdGl2ZSA6IGxpbmspO1xuICAgICAgICAgICAgICAgIH19IFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YWN0aXZlID09PSBsaW5rID8gJ2FjdGl2ZUJvdHRvbU5hdicgOiAnJ31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIHsgbGluayB9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIClcblxuICAgICAgICAvLyBpZiAoaW5kZXggPT09IGxpbmtzLmxlbmd0aCAtIDEpIHJldHVybiA8c3BhbiBrZXk9e2luZGV4fSBjbGFzc05hbWU9e2FjdGl2ZSA9PT0gbGluayA/ICdhY3RpdmVCb3R0b21OYXYnIDogJyd9IG9uQ2xpY2s9eyhlKSA9PiB7ZS5wcmV2ZW50RGVmYXVsdCgpOyBvbkNsaWNrKGxpbmspfX0+e2xpbmt9PC9zcGFuPlxuXG4gICAgICAgIC8vIHJldHVybiA8c3BhbiBrZXk9e2luZGV4fSBvbkNsaWNrPXsoZSkgPT4ge2UucHJldmVudERlZmF1bHQoKTsgb25DbGljayhsaW5rKX19IGNsYXNzTmFtZT17YWN0aXZlID09PSBsaW5rID8gJ2FjdGl2ZUJvdHRvbU5hdicgOiAnJ30+e2xpbmt9fDwvc3Bhbj5cbiAgICB9KVxufVxuXG5jb25zdCBCb3R0b21OYXZpZ2F0aW9uID0gKHsgbGlua3MsIGNsYXNzTmFtZSwgb25DbGljaywgYWN0aXZlIH0pID0+IChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAge1xuICAgICAgICAgICAgYWRkUGlwZUJldHdlZW5MaW5rcyhsaW5rcywgb25DbGljaywgYWN0aXZlKVxuICAgICAgICB9XG4gICAgPC9kaXY+XG4pO1xuXG5leHBvcnQgZGVmYXVsdCBCb3R0b21OYXZpZ2F0aW9uOyIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5jb25zdCBUYXNrc0NvbnRhaW5lciA9ICgpID0+IHtcbiAgICAvLyBsZXQgYWxhcm1zID0gW107XG5cbiAgICBjb25zdCBbYWxhcm1zLCBzZXRBbGFybXNMaXN0XSA9IHVzZVN0YXRlKFtdKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiBjb25zb2xlLmxvZyhcIklOIENPTVBPTkVOVCBESUQgTU9VTlRcIikpO1xuXG4gICAgY2hyb21lLmFsYXJtcy5nZXRBbGwoKGFsYXJtc0xpc3QpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ2xhbGFybXMnLCBhbGFybXNMaXN0KTtcbiAgICAgICAgLy8gYWxhcm1zID0gYWxhcm1zTGlzdDtcblxuICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoYWxhcm1zTGlzdCkgIT0gSlNPTi5zdHJpbmdpZnkoYWxhcm1zKSkge1xuICAgICAgICAgICAgc2V0QWxhcm1zTGlzdChhbGFybXNMaXN0KTtcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBjb25zdCByZW1vdmVBbGFybSA9IChuYW1lKSA9PiB7XG4gICAgICAgIGlmIChhbGFybXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBzZXRBbGFybXNMaXN0KGFsYXJtcy5maWx0ZXIoYWxhcm0gPT4gYWxhcm0ubmFtZSAhPT0gbmFtZSkpO1xuICAgICAgICAgICAgY2hyb21lLmFsYXJtcy5jbGVhcihuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGFza3MtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFsYXJtcy5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGFybXMubWFwKChhbGFybSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjaGVkdWxlZFRpbWVJbk1pbGxTID0gYWxhcm0uc2NoZWR1bGVkVGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGUgPSBTdHJpbmcobmV3IERhdGUoc2NoZWR1bGVkVGltZUluTWlsbFMpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXtpbmRleH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHthbGFybS5uYW1lfSBhdCB7ZGF0ZS5zbGljZShkYXRlLmluZGV4T2YobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpKSArIDUsIGRhdGUuaW5kZXhPZignR01UJykgLSAxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIuLi9kZWxldGUuc3ZnXCIgb25DbGljaz17KGUpID0+IHtlLnByZXZlbnREZWZhdWx0KCk7IHJlbW92ZUFsYXJtKGFsYXJtLm5hbWUpfX0gY2xhc3NOYW1lPVwiY3Jvc3MtYnV0dG9uXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPHNwYW4gb25DbGljaz17KGUpID0+IHtlLnByZXZlbnREZWZhdWx0KCk7IHJlbW92ZUFsYXJtKGFsYXJtLm5hbWUpfX0gY2xhc3NOYW1lPVwiY3Jvc3MtYnV0dG9uXCI+WDwvc3Bhbj4gKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJ1xuICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUYXNrc0NvbnRhaW5lcjsiLCJpbXBvcnQgUmVhY3QsIHt1c2VTdGF0ZSx1c2VFZmZlY3R9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTY2hlZHVsZUFsYXJtQ29udGFpbmVyIGZyb20gJy4vU2NoZWR1bGVBbGFybUNvbnRhaW5lcic7XG5pbXBvcnQgQm90dG9tTmF2aWdhdGlvbiBmcm9tICcuL0JvdHRvbU5hdmlnYXRpb24nO1xuaW1wb3J0IFRhc2tzQ29udGFpbmVyIGZyb20gJy4vVGFza3NDb250YWluZXInO1xuaW1wb3J0IHNvY2tldElPQ2xpZW50IGZyb20gXCJzb2NrZXQuaW8tY2xpZW50XCI7XG5jb25zdCBFTkRQT0lOVCA9IFwiaHR0cDovLzEyNy4wLjAuMTo0MDAwXCI7XG5cbmNvbnN0IEFwcCA9ICgpID0+IHtcbiAgICBjb25zdCBbc2hvd0FsYXJtc0xpc3QsIHNldEFsYXJtVmlld10gPSB1c2VTdGF0ZSgnU2V0IEFsYXJtJyk7XG4gICAgY29uc29sZS5sb2coJ3Nob3dBbGFybXNMaXN0Jywgc2hvd0FsYXJtc0xpc3QpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2cnKTtcbiAgICAgICAgY29uc3Qgc29ja2V0ID0gc29ja2V0SU9DbGllbnQoRU5EUE9JTlQpO1xuICAgICAgICBjb25zb2xlLmxvZygnQkJCQkJCQkJCQkJCQkJCJyxzb2NrZXQpO1xuICAgICAgICBzb2NrZXQub24oXCJGcm9tQVBJXCIsIGRhdGEgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdEYXRhYXRhdGF0YXQnLGRhdGEpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCd0aW1lJyxkYXRhLnRpbWUpO1xuXG4gICAgICAgICAgY2hyb21lLmFsYXJtcy5jcmVhdGUoJ1JlbWluZGVyIHBsIHN0YXJ0IHlvdXIgdHJhY2tlcicsIHtcbiAgICAgICAgICAgIHBlcmlvZEluTWludXRlczogZGF0YS50aW1lLzYwXG4gICAgICAgIH0pXG4gICAgICAgIC8vICBzZXRSZXNwb25zZShkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICB9LCBbXSlcbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNob3dBbGFybXNMaXN0ID09PSAnU2V0IEFsYXJtJ1xuICAgICAgICAgICAgICAgICAgICA/ICAgXG4gICAgICAgICAgICAgICAgICAgICAgICA8U2NoZWR1bGVBbGFybUNvbnRhaW5lciAvPlxuICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICA8VGFza3NDb250YWluZXIgLz5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDxCb3R0b21OYXZpZ2F0aW9uIFxuICAgICAgICAgICAgICAgIGxpbmtzPXtbJ1NldCBBbGFybScsICd8JywgJ1Nob3cgVGFza3MnXX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJib3R0b21OYXZpZ2F0aW9uXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtzZXRBbGFybVZpZXd9XG4gICAgICAgICAgICAgICAgYWN0aXZlPXtzaG93QWxhcm1zTGlzdH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IGlkPVwic25hY2tiYXJcIj5BbGFybSBzZXQ8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEFwcDsiXSwic291cmNlUm9vdCI6IiJ9